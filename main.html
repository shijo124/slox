<!DOCTYPE html>
<html lang="ja" class="h-100">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="theme-color" content="#7952b3">
        <title>slox</title>
        <link rel="apple-touch-icon" href="https://getbootstrap.jp/docs/5.0/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
        <link rel="icon" href="https://getbootstrap.jp/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
        <link rel="icon" href="https://getbootstrap.jp/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
        <link rel="manifest" href="https://getbootstrap.jp/docs/5.0/assets/img/favicons/manifest.json">
        <link rel="mask-icon" href="https://getbootstrap.jp/docs/5.0/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
        <link rel="icon" href="https://getbootstrap.jp/docs/5.0/assets/img/favicons/favicon.ico">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <!-- bootstrap cdn -->
        <link rel="stylesheet" onload="window.hljscss = 1;" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous" />
        <script>window.hljscss || document.write('<link rel="stylesheet" href="./assets/css/bootstrap.min.css" \/>');</script>
    </head>

    <body class="d-flex h-100 text-center text-white bg-dark">
        <div class="container d-flex w-100 h-100 mx-auto flex-column">

            <header class="mb-auto">
                <div>
                    <h1 class="float-md-start mb-0 h3">slox</h1>
                    <nav class="nav nav-masthead justify-content-center float-md-end">
                        <!-- <a class="nav-link active" aria-current="page" href="https://getbootstrap.jp/docs/5.0/examples/cover/#">ホーム</a>
                        <a class="nav-link" href="https://getbootstrap.jp/docs/5.0/examples/cover/#">特徴</a>
                        <a class="nav-link" href="https://getbootstrap.jp/docs/5.0/examples/cover/#">連絡</a> -->
                    </nav>
                </div>
            </header>

            <main class="px-3">
                <div style="width:100%;height:auto;overflow:auto;">
                    <canvas id="js_bonus_chart" class="" width="1200" height="250"></canvas>
                </div>
                <div class="rate_table mt-3">
                    <div class="row text-end">
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">BIG</div>
                            <div class="">9999</div>
                            <div class="">(1/999)</div>
                        </div>
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">REG</div>
                            <div class="">9999</div>
                            <div class="">(1/999)</div>
                        </div>
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">ぶどう</div>
                            <div class="">19999</div>
                            <div class="">(1/6.82)</div>
                        </div>
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">チェリー</div>
                            <div class="">19999</div>
                            <div class="">(1/33.56)</div>
                        </div>
                    </div>
                    <div class="row text-end mt-3">
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">単BIG</div>
                            <div class="">9999</div>
                            <div class="">(1/999)</div>
                        </div>
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">単REG</div>
                            <div class="">9999</div>
                            <div class="">(1/999)</div>
                        </div>
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">チェBIG</div>
                            <div class="">9999</div>
                            <div class="">(1/999)</div>
                        </div>
                        <div class="col">
                            <div class="text-center" style="background-color:rgba(8,0,22,1.0);">チェREG</div>
                            <div class="">9999</div>
                            <div class="">(1/999)</div>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-primary mt-3 mb-3 w-100" data-bs-toggle="modal" data-bs-target="#bonus_modal">ボーナス登録</button>
                <button type="button" class="btn btn-primary mt-3 mb-3 w-100 js_check_cookie">Cookieチェック</button>
                <button type="button" class="btn btn-primary mt-3 mb-3 w-100 js_del_cookie">Cookie削除</button>
            </main>

            <footer class="mt-auto text-white-50">
                <div class="row">
                    <div class="col">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="25" fill="currentColor" class="bi bi-gear-wide-connected" viewBox="0 0 16 16">
                            <path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"/>
                        </svg>
                        <p class="fs-6">設定推測</p>
                    </div>
                    <div class="col">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="25" fill="currentColor" class="bi bi-gear-wide-connected" viewBox="0 0 16 16">
                            <path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"/>
                        </svg>
                        <p class="fs-6">チャート</p>
                    </div>
                    <div class="col">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="25" fill="currentColor" class="bi bi-gear-wide-connected" viewBox="0 0 16 16">
                            <path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"/>
                        </svg>
                        <p class="fs-6">ボーナス間</p>
                    </div>
                    <div class="col">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="25" fill="currentColor" class="bi bi-gear-wide-connected" viewBox="0 0 16 16">
                            <path d="M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"/>
                        </svg>
                        <p class="fs-6">設定</p>
                    </div>
                  </div>
            </footer>

            <!-- Modal -->
            <div class="modal fade" id="bonus_modal" tabindex="-1" data-bs-backdrop="static" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content bg-dark">
                        <div class="modal-body">
                            <form class=".js_bonus_form">
                                <div class="input-group mb-3">
                                    <span class="input-group-text w-50">当選ゲーム数(必須)</span>
                                    <input type="tel" class="form-control text-end" name="all_game_cnt" placeholder="" oninput="if(value.length>4)value=value.slice(0,4)" required autofocus>
                                </div>
                                <div class="input-group mb-3">
                                    <span class="input-group-text bg-success text-white w-50">累計ブドウ(任意)</span>
                                    <input type="tel" class="form-control text-end" name="all_budo_cnt" placeholder="" oninput="if(value.length>5)value=value.slice(0,5)">
                                </div>
                                <div class="input-group mb-3">
                                    <span class="input-group-text bg-danger text-white w-50">累計チェリー(任意)</span>
                                    <input type="tel" class="form-control text-end" name="all_cherry_cnt" placeholder="" oninput="if(value.length>5)value=value.slice(0,5)">
                                </div>
                            </form>
                            <div class="row">
                                <div class="col w-100">
                                    <button type="button" class="btn btn-outline-danger w-100 js_bonus_btn" data-bonus-kind="tan_big">単独BIG</button>
                                </div>
                                <div class="col w-100">
                                    <button type="button" class="btn btn-outline-success w-100 js_bonus_btn" data-bonus-kind="tan_reg">単独REG</button>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col w-100">
                                    <button type="button" class="btn btn-outline-warning w-100 js_bonus_btn" data-bonus-kind="che_big">チェリー重複BIG</button>
                                </div>
                                <div class="col w-100">
                                    <button type="button" class="btn btn-outline-info w-100 js_bonus_btn" data-bonus-kind="che_reg">チェリー重複REG</button>
                                </div>
                            </div>
                            <div class="mt-3 text-end">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- js -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
        <!-- iquery cdn -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
        <script>window.jQuery || document.write('<script src="./assets/js/jquery.min.js"><\/script>');</script>
        <!-- iquery cookie cdn -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" integrity="sha512-3j3VU6WC5rPQB4Ld1jnLV7Kd5xr+cq9avvhwqzbH/taCRNURoeEpoPBK9pDyeukwSxwRPJ8fDgvYXd6SkaZ2TA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!-- chart.js cdn -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.1/chart.min.js" integrity="sha512-5vwN8yor2fFT9pgPS9p9R7AszYaNn0LkQElTXIsZFCL7ucT8zDCAqlQXDdaqgA1mZP47hdvztBMsIoFxq/FyyQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="./assets/js/com.js"></script>
        <script src="./assets/js/main.js"></script>
        <script>

            //---
            var bonus_modal = new bootstrap.Modal(document.getElementById('bonus_modal'), {
                keyboard: false
            });

            //---
            var ctx = document.getElementById("js_bonus_chart");
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [
                        {
                            data: [],
                            backgroundColor: [],
                        }
                    ]
                },
                options: {
                    responsive:false,
                    title: {
                        display:true,
                        text: 'ボーナス表'
                    },
                    scales: {
                        y:{
                            ticks: {
                                suggestedMax: 1000,
                                suggestedMin: 0,
                                stepSize: 100,
                                callback: function(value, index, values){
                                    return  value +  ''
                                }
                            }
                        }
                    },
                }
            });

            $(window).on('load', function() {
                update_bonus_chart(ctx,myChart);
            });

            $(".js_bonus_btn").on("click", function(){

                let all_cnt = parseInt($('input[name="all_game_cnt"]').val());
                let budo_cnt = parseInt($('input[name="all_budo_cnt"]').val());
                let cherry_cnt = parseInt($('input[name="all_cherry_cnt"]').val());
                let bonus_kind = $(this).attr("data-bonus-kind");

                let ret_bonus_save = bonus_save(all_cnt,budo_cnt,cherry_cnt,bonus_kind);

                if(ret_bonus_save){
                    $('input[name="all_game_cnt"]').val("");
                    $('input[name="all_budo_cnt"]').val("");
                    $('input[name="all_cherry_cnt"]').val("");
                    update_bonus_chart(ctx,myChart);
                    bonus_modal.hide();
                }

            });

            $(".js_check_cookie").on("click", function(){
                let bonus_obj = JSON.parse($.cookie('bonus_data'));
                alert(JSON.stringify(bonus_obj));
            });

            $(".js_del_cookie").on("click", function(){
                $.removeCookie('bonus_data', {path:'/'});
            });

        </script>

    </body>
</html>